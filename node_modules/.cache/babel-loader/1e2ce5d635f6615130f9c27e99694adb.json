{"ast":null,"code":"import _slicedToArray from\"/var/www/html2/glpi-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Chart as ChartJS,ArcElement,Tooltip,Legend}from'chart.js';import{Doughnut,Pie}from'react-chartjs-2';import axios from'axios';import ChartDataLabels from'chartjs-plugin-datalabels';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(ArcElement,Tooltip,Legend);function TicketByEntiter(props){var _useState=useState(props.chartDaa),_useState2=_slicedToArray(_useState,2),chartData=_useState2[0],setChartData=_useState2[1];var _useState3=useState(props.chartLebels),_useState4=_slicedToArray(_useState3,2),chartlebels=_useState4[0],setChartlebels=_useState4[1];useEffect(function(){setChartData(props.chartData);setChartlebels(props.chartLebels);});var data={labels:chartlebels,datasets:[{data:chartData,backgroundColor:['rgba(255, 99, 132, 1)','rgba(54, 162, 235, 1)','rgba(255, 206, 86, 1)','rgba(75, 192, 192, 1)','rgba(153, 102, 255, 1)','rgba(255, 159, 64, 1)','rgba(255, 206, 86, 1)'],borderColor:['rgba(255, 99, 132, 1)','rgba(54, 162, 235, 1)','rgba(255, 206, 86, 1)','rgba(75, 192, 192, 1)','rgba(153, 102, 255, 1)','rgba(255, 159, 64, 1)','rgba(255, 206, 86, 1)'],borderWidth:1}]};var options={tooltips:{enabled:false},plugins:{datalabels:{formatter:function formatter(value,ctx){var sum=0;var dataArr=ctx.chart.data.datasets[0].data;dataArr.map(function(data){sum+=data;});var percentage=(value*100/sum).toFixed(2)+\"%\";return percentage;},color:'black',anchor:''}}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Ticket par Entites\"}),/*#__PURE__*/_jsx(Pie,{options:options,plugins:[ChartDataLabels],data:data})]});}export default TicketByEntiter;","map":{"version":3,"names":["React","useState","useEffect","Chart","ChartJS","ArcElement","Tooltip","Legend","Doughnut","Pie","axios","ChartDataLabels","register","TicketByEntiter","props","chartDaa","chartData","setChartData","chartLebels","chartlebels","setChartlebels","data","labels","datasets","backgroundColor","borderColor","borderWidth","options","tooltips","enabled","plugins","datalabels","formatter","value","ctx","sum","dataArr","chart","map","percentage","toFixed","color","anchor"],"sources":["/var/www/html2/glpi-app/src/charts/TicketByEntiter.js"],"sourcesContent":["import React, { useState,useEffect } from 'react';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { Doughnut, Pie } from 'react-chartjs-2';\nimport axios from 'axios';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\n\nChartJS.register(ArcElement, Tooltip, Legend);\n\n\n\n\nfunction TicketByEntiter(props) {\n    const [chartData, setChartData] = useState(props.chartDaa)\n    const [chartlebels, setChartlebels] = useState(props.chartLebels)\n   \n    useEffect(() => {\n        \n        setChartData(props.chartData)\n        setChartlebels(props.chartLebels)\n        \n    })\n    const data = {\n        labels: chartlebels,\n        datasets: [\n            {\n\n                data: chartData,\n                backgroundColor: [\n                    'rgba(255, 99, 132, 1)',\n                    'rgba(54, 162, 235, 1)',\n                    'rgba(255, 206, 86, 1)',\n                    'rgba(75, 192, 192, 1)',\n                    'rgba(153, 102, 255, 1)',\n                    'rgba(255, 159, 64, 1)',\n                    'rgba(255, 206, 86, 1)',\n                ],\n                borderColor: [\n                    'rgba(255, 99, 132, 1)',\n                    'rgba(54, 162, 235, 1)',\n                    'rgba(255, 206, 86, 1)',\n                    'rgba(75, 192, 192, 1)',\n                    'rgba(153, 102, 255, 1)',\n                    'rgba(255, 159, 64, 1)',\n                    'rgba(255, 206, 86, 1)',\n                ],\n                borderWidth: 1,\n            },\n        ],\n    }\n    var options = {\n        tooltips: {\n            enabled: false\n        },\n        plugins: {\n            datalabels: {\n                formatter: (value, ctx) => {\n                    let sum = 0;\n                    let dataArr = ctx.chart.data.datasets[0].data;\n                    dataArr.map(data => {\n                        sum += data;\n                    });\n                    let percentage = (value*100 / sum).toFixed(2)+\"%\";\n                    return percentage;\n                },\n                color: 'black',\n                anchor:'',\n               \n            }\n        }\n    };\n    return (\n        <div>\n            <h1>Ticket par Entites</h1>\n            <Pie options={options} plugins={[ChartDataLabels]}   data={data} />\n        </div>\n    )\n}\nexport default TicketByEntiter;"],"mappings":"6GAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAAyBC,SAAzB,KAA0C,OAA1C,CACA,OAASC,KAAK,GAAIC,CAAAA,OAAlB,CAA2BC,UAA3B,CAAuCC,OAAvC,CAAgDC,MAAhD,KAA8D,UAA9D,CACA,OAASC,QAAT,CAAmBC,GAAnB,KAA8B,iBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,2BAA5B,C,wFAGAP,OAAO,CAACQ,QAAR,CAAiBP,UAAjB,CAA6BC,OAA7B,CAAsCC,MAAtC,EAKA,QAASM,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC5B,cAAkCb,QAAQ,CAACa,KAAK,CAACC,QAAP,CAA1C,wCAAOC,SAAP,eAAkBC,YAAlB,eACA,eAAsChB,QAAQ,CAACa,KAAK,CAACI,WAAP,CAA9C,yCAAOC,WAAP,eAAoBC,cAApB,eAEAlB,SAAS,CAAC,UAAM,CAEZe,YAAY,CAACH,KAAK,CAACE,SAAP,CAAZ,CACAI,cAAc,CAACN,KAAK,CAACI,WAAP,CAAd,CAEH,CALQ,CAAT,CAMA,GAAMG,CAAAA,IAAI,CAAG,CACTC,MAAM,CAAEH,WADC,CAETI,QAAQ,CAAE,CACN,CAEIF,IAAI,CAAEL,SAFV,CAGIQ,eAAe,CAAE,CACb,uBADa,CAEb,uBAFa,CAGb,uBAHa,CAIb,uBAJa,CAKb,wBALa,CAMb,uBANa,CAOb,uBAPa,CAHrB,CAYIC,WAAW,CAAE,CACT,uBADS,CAET,uBAFS,CAGT,uBAHS,CAIT,uBAJS,CAKT,wBALS,CAMT,uBANS,CAOT,uBAPS,CAZjB,CAqBIC,WAAW,CAAE,CArBjB,CADM,CAFD,CAAb,CA4BA,GAAIC,CAAAA,OAAO,CAAG,CACVC,QAAQ,CAAE,CACNC,OAAO,CAAE,KADH,CADA,CAIVC,OAAO,CAAE,CACLC,UAAU,CAAE,CACRC,SAAS,CAAE,mBAACC,KAAD,CAAQC,GAAR,CAAgB,CACvB,GAAIC,CAAAA,GAAG,CAAG,CAAV,CACA,GAAIC,CAAAA,OAAO,CAAGF,GAAG,CAACG,KAAJ,CAAUhB,IAAV,CAAeE,QAAf,CAAwB,CAAxB,EAA2BF,IAAzC,CACAe,OAAO,CAACE,GAAR,CAAY,SAAAjB,IAAI,CAAI,CAChBc,GAAG,EAAId,IAAP,CACH,CAFD,EAGA,GAAIkB,CAAAA,UAAU,CAAG,CAACN,KAAK,CAAC,GAAN,CAAYE,GAAb,EAAkBK,OAAlB,CAA0B,CAA1B,EAA6B,GAA9C,CACA,MAAOD,CAAAA,UAAP,CACH,CATO,CAURE,KAAK,CAAE,OAVC,CAWRC,MAAM,CAAC,EAXC,CADP,CAJC,CAAd,CAqBA,mBACI,oCACI,0CADJ,cAEI,KAAC,GAAD,EAAK,OAAO,CAAEf,OAAd,CAAuB,OAAO,CAAE,CAAChB,eAAD,CAAhC,CAAqD,IAAI,CAAEU,IAA3D,EAFJ,GADJ,CAMH,CACD,cAAeR,CAAAA,eAAf"},"metadata":{},"sourceType":"module"}